<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1.13. Object-Oriented Programming in Python: Defining Classes &#8212; Runestone Interactive Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/presenter_mode.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css?v=58C4E18A" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css?v=424F1CC9" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css?v=3BA0E63E" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css?v=E5385B3B" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css?v=1CE53237" />
    <link rel="stylesheet" type="text/css" href="../_static/reveal.css?v=4A81D381" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css?v=2F3E13EE" />
    <link rel="stylesheet" type="text/css" href="../_static/js_lib/prettify.css?v=2A364B6B" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css?v=239FC54E" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css?v=8A1A42E4" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css?v=F471F95B" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css?v=C184EB8A" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css?v=C6382F3" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=808B982A" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css?v=B9BAA0D1" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css?v=E220AC33" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script type="text/javascript" src="../_static/clickable.js?v=9560E65E"></script>
    <script type="text/javascript" src="../_static/timedclickable.js?v=93989C23"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js?v=5BE6106"></script>
    <script type="text/javascript" src="../_static/fitb.js?v=8E40E713"></script>
    <script type="text/javascript" src="../_static/timedfitb.js?v=2AA17071"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js?v=53E888DE"></script>
    <script type="text/javascript" src="../_static/codemirror.js?v=94F552C9"></script>
    <script type="text/javascript" src="../_static/xml.js?v=236EDFF7"></script>
    <script type="text/javascript" src="../_static/css.js?v=623153CE"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js?v=33B91944"></script>
    <script type="text/javascript" src="../_static/javascript.js?v=6F38CA04"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script type="text/javascript" src="../_static/Blob.js?v=AEC2447"></script>
    <script type="text/javascript" src="../_static/reveal.js?v=112CBFA2"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js?v=CA7E8928"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js?v=73056367"></script>
    <script type="text/javascript" src="../_static/parsons.js?v=93EFFF39"></script>
    <script type="text/javascript" src="../_static/timedparsons.js?v=2EEA9E5A"></script>
    <script type="text/javascript" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script type="text/javascript" src="../_static/mchoice.js?v=8329CA55"></script>
    <script type="text/javascript" src="../_static/timedmc.js?v=B010A457"></script>
    <script type="text/javascript" src="../_static/timed.js?v=6789FE30"></script>
    <script type="text/javascript" src="../_static/shortanswer.js?v=5EB6170D"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js?v=B3A117D7"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js?v=836E01C"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js?v=B64CF0A8"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js?v=42F9EBEA"></script>
    <script type="text/javascript" src="../_static/pytutor.js?v=82B022B9"></script>
    <script type="text/javascript" src="../_static/codelens.js?v=CABECD49"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js?v=21EFC8E1"></script>
    <script type="text/javascript" src="../_static/python.js?v=14A28F1F"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js?v=599B42B0"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js?v=88A1430F"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js?v=AE15A4A1"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js?v=8ABDFE7F"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js?v=747279FF"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js?v=7B020E13"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js?v=660E85C3"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js?v=54B21948"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js?v=3FBAE230"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js?v=DC7AC815"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js?v=48A5D93E"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js?v=9FA573E1"></script>
    <script type="text/javascript" src="../_static/clike.js?v=2DCE0756"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js?v=5150FA78"></script>
    <script type="text/javascript" src="../_static/datafile.js?v=3ED1A80C"></script>
    <script type="text/javascript" src="../_static/showEval.js?v=C5CE0C81"></script>
    <script type="text/javascript" src="../_static/dragndrop.js?v=2B6403E8"></script>
    <script type="text/javascript" src="../_static/timeddnd.js?v=378F237E"></script>
    <script type="text/javascript" src="../_static/poll.js?v=6C59AE9F"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../_static/presenter_mode.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'LivroAlgoritmos';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "3.5.0";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'LivroAlgoritmos';
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '3.4.5';
  eBookConfig.jobehost = 'http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.downloadsEnabled = false;
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.allow_pairs = false ? false : false;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html" aria-label="index-page">Livro Algoritmos Project</a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='/runestone/static/LivroAlgoritmos/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/LivroAlgoritmos/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=LivroAlgoritmos&page=ObjectOrientedProgramminginPythonDefiningClasses'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>
      </div>






      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">1.13. Object-Oriented Programming in Python: Defining Classes</a><ul>
<li><a class="reference internal" href="#a-fraction-class">1.13.1. A <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> Class</a></li>
<li><a class="reference internal" href="#inheritance-logic-gates-and-circuits">1.13.2. Inheritance: Logic Gates and Circuits</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="object-oriented-programming-in-python-defining-classes">
<h1>1.13. Object-Oriented Programming in Python: Defining Classes<a class="headerlink" href="#object-oriented-programming-in-python-defining-classes" title="Permalink to this headline">¶</a></h1>
<p>We stated earlier that Python is an object-oriented programming
language. So far, we have used a number of built-in classes to show
examples of data and control structures. One of the most powerful
features in an object-oriented programming language is the ability to
allow a programmer (problem solver) to create new classes that model
data that is needed to solve the problem.</p>
<p>Remember that we use abstract data types to provide the logical
description of what a data object looks like (its state) and what it can
do (its methods). By building a class that implements an abstract data
type, a programmer can take advantage of the abstraction process and at
the same time provide the details necessary to actually use the
abstraction in a program. Whenever we want to implement an abstract data
type, we will do so with a new class.</p>
<div class="section" id="a-fraction-class">
<h2>1.13.1. A <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> Class<a class="headerlink" href="#a-fraction-class" title="Permalink to this headline">¶</a></h2>
<p>A very common example to show the details of implementing a user-defined
class is to construct a class to implement the abstract data type
<code class="docutils literal notranslate"><span class="pre">Fraction</span></code>. We have already seen that Python provides a number of
numeric classes for our use. There are times, however, that it would be
most appropriate to be able to create data objects that “look like”
fractions.</p>
<p>A fraction such as <span class="math notranslate nohighlight">\(\frac {3}{5}\)</span> consists of two parts. The top
value, known as the numerator, can be any integer. The bottom value,
called the denominator, can be any integer greater than 0 (negative
fractions have a negative numerator). Although it is possible to create
a floating point approximation for any fraction, in this case we would
like to represent the fraction as an exact value.</p>
<p>The operations for the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> type will allow a <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> data
object to behave like any other numeric value. We need to be able to
add, subtract, multiply, and divide fractions. We also want to be able
to show fractions using the standard “slash” form, for example 3/5. In
addition, all fraction methods should return results in their lowest
terms so that no matter what computation is performed, we always end up
with the most common form.</p>
<p>In Python, we define a new class by providing a name and a set of method
definitions that are syntactically similar to function definitions. For
this example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fraction</span><span class="p">:</span>

   <span class="c1">#the methods go here</span>
</pre></div>
</div>
<p>provides the framework for us to define the methods. The first method
that all classes should provide is the constructor. The constructor
defines the way in which data objects are created. To create a
<code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object, we will need to provide two pieces of data, the
numerator and the denominator. In Python, the constructor method is
always called __init__ (two underscores before and after <code class="docutils literal notranslate"><span class="pre">init</span></code>)
and is shown in <a class="reference internal" href="#lst-pyconstructor"><span class="std std-ref">Listing 2</span></a>.</p>
<p id="lst-pyconstructor"><strong>Listing 2</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fraction</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">top</span><span class="p">,</span><span class="n">bottom</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">top</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">=</span> <span class="n">bottom</span>
</pre></div>
</div>
<p>Notice that the formal parameter list contains three items (<code class="docutils literal notranslate"><span class="pre">self</span></code>,
<code class="docutils literal notranslate"><span class="pre">top</span></code>, <code class="docutils literal notranslate"><span class="pre">bottom</span></code>). <code class="docutils literal notranslate"><span class="pre">self</span></code> is a special parameter that will always
be used as a reference back to the object itself. It must always be the
first formal parameter; however, it will never be given an actual
parameter value upon invocation. As described earlier, fractions require
two pieces of state data, the numerator and the denominator. The
notation <code class="docutils literal notranslate"><span class="pre">self.num</span></code> in the constructor defines the <code class="docutils literal notranslate"><span class="pre">fraction</span></code> object
to have an internal data object called <code class="docutils literal notranslate"><span class="pre">num</span></code> as part of its state.
Likewise, <code class="docutils literal notranslate"><span class="pre">self.den</span></code> creates the denominator. The values of the two
formal parameters are initially assigned to the state, allowing the new
<code class="docutils literal notranslate"><span class="pre">fraction</span></code> object to know its starting value.</p>
<p>To create an instance of the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class, we must invoke the
constructor. This happens by using the name of the class and passing
actual values for the necessary state (note that we never directly
<code class="docutils literal notranslate"><span class="pre">invoke</span> <span class="pre">__init__</span></code>). For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myfraction</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>creates an object called <code class="docutils literal notranslate"><span class="pre">myfraction</span></code> representing the fraction
<span class="math notranslate nohighlight">\(\frac {3}{5}\)</span> (three-fifths). <a class="reference internal" href="#fig-fraction1"><span class="std std-ref">Figure 5</span></a> shows this
object as it is now implemented.</p>
<div class="figure align-center" id="id1">
<span id="fig-fraction1"></span><img alt="../_images/fraction11.png" src="../_images/fraction11.png" />
<p class="caption"><span class="caption-text">Figure 5: An Instance of the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> Class</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The next thing we need to do is implement the behavior that the abstract
data type requires. To begin, consider what happens when we try to print
a <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&lt;__main__.Fraction instance at 0x409b1acc&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fraction</span></code> object, <code class="docutils literal notranslate"><span class="pre">myf</span></code>, does not know how to respond to this
request to print. The <code class="docutils literal notranslate"><span class="pre">print</span></code> function requires that the object
convert itself into a string so that the string can be written to the
output. The only choice <code class="docutils literal notranslate"><span class="pre">myf</span></code> has is to show the actual reference that
is stored in the variable (the address itself). This is not what we
want.</p>
<p>There are two ways we can solve this problem. One is to define a method
called <code class="docutils literal notranslate"><span class="pre">show</span></code> that will allow the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object to print itself
as a string. We can implement this method as shown in
<a class="reference internal" href="#lst-showmethod"><span class="std std-ref">Listing 3</span></a>. If we create a <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object as before, we
can ask it to show itself, in other words, print itself in the proper
format. Unfortunately, this does not work in general. In order to make
printing work properly, we need to tell the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class how to
convert itself into a string. This is what the <code class="docutils literal notranslate"><span class="pre">print</span></code> function needs
in order to do its job.</p>
<p id="lst-showmethod"><strong>Listing 3</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">,</span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">3 / 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&lt;__main__.Fraction instance at 0x40bce9ac&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>In Python, all classes have a set of standard methods that are provided
but may not work properly. One of these, <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, is the method to
convert an object into a string. The default implementation for this
method is to return the instance address string as we have already seen.
What we need to do is provide a “better” implementation for this method.
We will say that this implementation <strong>overrides</strong> the previous one, or
that it redefines the method’s behavior.</p>
<p>To do this, we simply define a method with the name <code class="docutils literal notranslate"><span class="pre">__str__</span></code> and
give it a new implementation as shown in <a class="reference internal" href="#lst-str"><span class="std std-ref">Listing 4</span></a>. This definition
does not need any other information except the special parameter
<code class="docutils literal notranslate"><span class="pre">self</span></code>. In turn, the method will build a string representation by
converting each piece of internal state data to a string and then
placing a <code class="docutils literal notranslate"><span class="pre">/</span></code> character in between the strings using string
concatenation. The resulting string will be returned any time a
<code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object is asked to convert itself to a string. Notice the
various ways that this function is used.</p>
<p id="lst-str"><strong>Listing 4</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">3/5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I ate&quot;</span><span class="p">,</span> <span class="n">myf</span><span class="p">,</span> <span class="s2">&quot;of the pizza&quot;</span><span class="p">)</span>
<span class="go">I ate 3/5 of the pizza</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
<span class="go">&#39;3/5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&#39;3/5&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>We can override many other methods for our new <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class. Some
of the most important of these are the basic arithmetic operations. We
would like to be able to create two <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> objects and then add
them together using the standard “+” notation. At this point, if we try
to add two fractions, we get the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#173&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">-toplevel-</span>
    <span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gr">TypeError</span>: <span class="n">unsupported operand type(s) for +:</span>
<span class="go">          &#39;instance&#39; and &#39;instance&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If you look closely at the error, you see that the problem is that the
“+” operator does not understand the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> operands.</p>
<p>We can fix this by providing the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class with a method that
overrides the addition method. In Python, this method is called
<code class="docutils literal notranslate"><span class="pre">__add__</span></code> and it requires two parameters. The first, <code class="docutils literal notranslate"><span class="pre">self</span></code>, is
always needed, and the second represents the other operand in the
expression. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
</pre></div>
</div>
<p>would ask the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object <code class="docutils literal notranslate"><span class="pre">f1</span></code> to add the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object
<code class="docutils literal notranslate"><span class="pre">f2</span></code> to itself. This can be written in the standard notation,
<code class="docutils literal notranslate"><span class="pre">f1+f2</span></code>.</p>
<p>Two fractions must have the same denominator to be added. The easiest
way to make sure they have the same denominator is to simply use the
product of the two denominators as a common denominator so that
<span class="math notranslate nohighlight">\(\frac {a}{b} + \frac {c}{d} = \frac {ad}{bd} + \frac {cb}{bd} = \frac{ad+cb}{bd}\)</span>
The implementation is shown in <a class="reference internal" href="#lst-addmethod"><span class="std std-ref">Listing 5</span></a>. The addition
function returns a new <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object with the numerator and
denominator of the sum. We can use this method by writing a standard
arithmetic expression involving fractions, assigning the result of the
addition, and then printing our result.</p>
<p id="lst-addmethod"><strong>Listing 5</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherfraction</span><span class="p">):</span>

     <span class="n">newnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">num</span>
     <span class="n">newden</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">*</span> <span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span>

     <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">newnum</span><span class="p">,</span><span class="n">newden</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span><span class="o">=</span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f3</span><span class="p">)</span>
<span class="go">6/8</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The addition method works as we desire, but one thing could be better.
Note that <span class="math notranslate nohighlight">\(6/8\)</span> is the correct result
(<span class="math notranslate nohighlight">\(\frac {1}{4} + \frac {1}{2}\)</span>) but that it is not in the
“lowest terms” representation. The best representation would be
<span class="math notranslate nohighlight">\(3/4\)</span>. In order to be sure that our results are always in the
lowest terms, we need a helper function that knows how to reduce
fractions. This function will need to look for the greatest common
divisor, or GCD. We can then divide the numerator and the denominator by
the GCD and the result will be reduced to lowest terms.</p>
<p>The best-known algorithm for finding a greatest common divisor is
Euclid’s Algorithm, which will be discussed in detail in Chapter 8.
Euclid’s Algorithm states that the greatest common divisor of two
integers <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(n\)</span> is <span class="math notranslate nohighlight">\(n\)</span> if <span class="math notranslate nohighlight">\(n\)</span>
divides <span class="math notranslate nohighlight">\(m\)</span> evenly. However, if <span class="math notranslate nohighlight">\(n\)</span> does not divide
<span class="math notranslate nohighlight">\(m\)</span> evenly, then the answer is the greatest common divisor of
<span class="math notranslate nohighlight">\(n\)</span> and the remainder of <span class="math notranslate nohighlight">\(m\)</span> divided by <span class="math notranslate nohighlight">\(n\)</span>. We
will simply provide an iterative implementation here (see
<a class="reference internal" href="#lst-gcd"><span class="std std-ref">ActiveCode 1</span></a>). Note that this implementation of the GCD algorithm only
works when the denominator is positive. This is acceptable for our
fraction class because we have said that a negative fraction will be
represented by a negative numerator.</p>
<div class="system-message" id="lst-gcd">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 300)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 304</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">activecode</span><span class="p">::</span>  <span class="n">gcd_cl</span>
    <span class="p">:</span><span class="n">caption</span><span class="p">:</span> <span class="n">The</span> <span class="n">Greatest</span> <span class="n">Common</span> <span class="n">Divisor</span> <span class="n">Function</span>

    <span class="k">def</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="k">while</span> <span class="n">m</span><span class="o">%</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">oldm</span> <span class="o">=</span> <span class="n">m</span>
            <span class="n">oldn</span> <span class="o">=</span> <span class="n">n</span>

            <span class="n">m</span> <span class="o">=</span> <span class="n">oldn</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">oldm</span><span class="o">%</span><span class="n">oldn</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">gcd</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Now we can use this function to help reduce any fraction. To put a
fraction in lowest terms, we will divide the numerator and the
denominator by their greatest common divisor. So, for the fraction
<span class="math notranslate nohighlight">\(6/8\)</span>, the greatest common divisor is 2. Dividing the top and
the bottom by 2 creates a new fraction, <span class="math notranslate nohighlight">\(3/4\)</span> (see
<a class="reference internal" href="#lst-newaddmethod"><span class="std std-ref">Listing 6</span></a>).</p>
<p id="lst-newaddmethod"><strong>Listing 6</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherfraction</span><span class="p">):</span>
    <span class="n">newnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">num</span>
    <span class="n">newden</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">*</span> <span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span>
    <span class="n">common</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">(</span><span class="n">newnum</span><span class="p">,</span><span class="n">newden</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">newnum</span><span class="o">//</span><span class="n">common</span><span class="p">,</span><span class="n">newden</span><span class="o">//</span><span class="n">common</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span><span class="o">=</span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f3</span><span class="p">)</span>
<span class="go">3/4</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="figure align-center" id="id2">
<span id="fig-fraction2"></span><img alt="../_images/fraction21.png" src="../_images/fraction21.png" />
<p class="caption"><span class="caption-text">Figure 6: An Instance of the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> Class with Two Methods</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Our <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> object now has two very useful methods and looks
like <a class="reference internal" href="#fig-fraction2"><span class="std std-ref">Figure 6</span></a>. An additional group of methods that we need to
include in our example <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class will allow two fractions to
compare themselves to one another. Assume we have two <code class="docutils literal notranslate"><span class="pre">Fraction</span></code>
objects, <code class="docutils literal notranslate"><span class="pre">f1</span></code> and <code class="docutils literal notranslate"><span class="pre">f2</span></code>. <code class="docutils literal notranslate"><span class="pre">f1==f2</span></code> will only be <code class="docutils literal notranslate"><span class="pre">True</span></code> if they are
references to the same object. Two different objects with the same
numerators and denominators would not be equal under this
implementation. This is called <strong>shallow equality</strong> (see
<a class="reference internal" href="#fig-fraction3"><span class="std std-ref">Figure 7</span></a>).</p>
<div class="figure align-center" id="id3">
<span id="fig-fraction3"></span><img alt="../_images/fraction31.png" src="../_images/fraction31.png" />
<p class="caption"><span class="caption-text">Figure 7: Shallow Equality Versus Deep Equality</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>We can create <strong>deep equality</strong> (see <a class="reference internal" href="#fig-fraction3"><span class="std std-ref">Figure 7</span></a>)–equality by the
same value, not the same reference–by overriding the <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>
method. The <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method is another standard method available in
any class. The <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method compares two objects and returns
<code class="docutils literal notranslate"><span class="pre">True</span></code> if their values are the same, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class, we can implement the <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method by
again putting the two fractions in common terms and then comparing the
numerators (see <a class="reference internal" href="#lst-cmpmethod"><span class="std std-ref">Listing 7</span></a>). It is important to note that there
are other relational operators that can be overridden. For example, the
<code class="docutils literal notranslate"><span class="pre">__le__</span></code> method provides the less than or equal functionality.</p>
<p id="lst-cmpmethod"><strong>Listing 7</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="n">firstnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">den</span>
    <span class="n">secondnum</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span>

    <span class="k">return</span> <span class="n">firstnum</span> <span class="o">==</span> <span class="n">secondnum</span>
</pre></div>
</div>
<p>The complete <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> class, up to this point, is shown in
<a class="reference internal" href="#lst-fractioncode"><span class="std std-ref">ActiveCode 2</span></a>. We leave the remaining arithmetic and relational
methods as exercises.</p>
<div class="system-message" id="lst-fractioncode">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 400)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 404</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">activecode</span><span class="p">::</span> <span class="n">fraction_class</span>
   <span class="p">:</span><span class="n">caption</span><span class="p">:</span> <span class="n">The</span> <span class="n">Fraction</span> <span class="n">Class</span>

   <span class="k">def</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
       <span class="k">while</span> <span class="n">m</span><span class="o">%</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
           <span class="n">oldm</span> <span class="o">=</span> <span class="n">m</span>
           <span class="n">oldn</span> <span class="o">=</span> <span class="n">n</span>

           <span class="n">m</span> <span class="o">=</span> <span class="n">oldn</span>
           <span class="n">n</span> <span class="o">=</span> <span class="n">oldm</span><span class="o">%</span><span class="n">oldn</span>
       <span class="k">return</span> <span class="n">n</span>

   <span class="k">class</span> <span class="nc">Fraction</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">top</span><span class="p">,</span><span class="n">bottom</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">top</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">=</span> <span class="n">bottom</span>

        <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">,</span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherfraction</span><span class="p">):</span>
            <span class="n">newnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span> <span class="o">+</span> \
                         <span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">num</span>
            <span class="n">newden</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">*</span> <span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span>
            <span class="n">common</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">(</span><span class="n">newnum</span><span class="p">,</span><span class="n">newden</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">newnum</span><span class="o">//</span><span class="n">common</span><span class="p">,</span><span class="n">newden</span><span class="o">//</span><span class="n">common</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">firstnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">den</span>
            <span class="n">secondnum</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span>

            <span class="k">return</span> <span class="n">firstnum</span> <span class="o">==</span> <span class="n">secondnum</span>

   <span class="n">x</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
   <span class="n">y</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-self-check admonition">
<p class="admonition-title">Self  Check</p>
<p>To make sure you understand how operators are implemented in Python classes, and how to properly write methods, write some methods to implement <code class="docutils literal notranslate"><span class="pre">*,</span> <span class="pre">/,</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> .  Also implement comparison operators &gt; and &lt;</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 445)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 449</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">actex</span><span class="p">::</span> <span class="n">self_check_4</span>
</pre></div>
</div>
</div>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 447)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 451</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">video</span><span class="p">::</span> <span class="n">fraction</span>
   <span class="p">:</span><span class="n">controls</span><span class="p">:</span>
   <span class="p">:</span><span class="n">thumb</span><span class="p">:</span> <span class="o">../</span><span class="n">_static</span><span class="o">/</span><span class="n">videothumb</span><span class="o">.</span><span class="n">png</span>

   <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">media</span><span class="o">.</span><span class="n">interactivepython</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pythondsVideos</span><span class="o">/</span><span class="n">fraction</span><span class="o">.</span><span class="n">mov</span>
   <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">media</span><span class="o">.</span><span class="n">interactivepython</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pythondsVideos</span><span class="o">/</span><span class="n">fraction</span><span class="o">.</span><span class="n">webm</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inheritance-logic-gates-and-circuits">
<h2>1.13.2. Inheritance: Logic Gates and Circuits<a class="headerlink" href="#inheritance-logic-gates-and-circuits" title="Permalink to this headline">¶</a></h2>
<p>Our final section will introduce another important aspect of
object-oriented programming. <strong>Inheritance</strong> is the ability for one
class to be related to another class in much the same way that people
can be related to one another. Children inherit characteristics from
their parents. Similarly, Python child classes can inherit
characteristic data and behavior from a parent class. These classes are
often referred to as <strong>subclasses</strong> and <strong>superclasses</strong>.</p>
<p><a class="reference internal" href="#fig-inherit1"><span class="std std-ref">Figure 8</span></a> shows the built-in Python collections and their
relationships to one another. We call a relationship structure such as
this an <strong>inheritance hierarchy</strong>. For example, the list is a child of
the sequential collection. In this case, we call the list the child and
the sequence the parent (or subclass list and superclass sequence). This
is often referred to as an <code class="docutils literal notranslate"><span class="pre">IS-A</span> <span class="pre">Relationship</span></code> (the list <strong>IS-A</strong>
sequential collection). This implies that lists inherit important
characteristics from sequences, namely the ordering of the underlying
data and operations such as concatenation, repetition, and indexing.</p>
<div class="figure align-center" id="id4">
<span id="fig-inherit1"></span><img alt="../_images/inheritance11.png" src="../_images/inheritance11.png" />
<p class="caption"><span class="caption-text">Figure 8: An Inheritance Hierarchy for Python Collections</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>Lists, tuples, and strings are all types of sequential collections. They
all inherit common data organization and operations. However, each of
them is distinct based on whether the data is homogeneous and whether
the collection is immutable. The children all gain from their parents
but distinguish themselves by adding additional characteristics.</p>
<p>By organizing classes in this hierarchical fashion, object-oriented
programming languages allow previously written code to be extended to
meet the needs of a new situation. In addition, by organizing data in
this hierarchical manner, we can better understand the relationships
that exist. We can be more efficient in building our abstract
representations.</p>
<p>To explore this idea further, we will construct a <strong>simulation</strong>, an
application to simulate digital circuits. The basic building block for
this simulation will be the logic gate. These electronic switches
represent boolean algebra relationships between their input and their
output. In general, gates have a single output line. The value of the
output is dependent on the values given on the input lines.</p>
<p>AND gates have two input lines, each of which can be either 0 or 1
(representing <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>, repectively). If both of the input
lines have the value 1, the resulting output is 1. However, if either or
both of the input lines is 0, the result is 0. OR gates also have two
input lines and produce a 1 if one or both of the input values is a 1.
In the case where both input lines are 0, the result is 0.</p>
<p>NOT gates differ from the other two gates in that they only have a
single input line. The output value is simply the opposite of the input
value. If 0 appears on the input, 1 is produced on the output.
Similarly, 1 produces 0. <a class="reference internal" href="#fig-truthtable"><span class="std std-ref">Figure 9</span></a> shows how each of these
gates is typically represented. Each gate also has a <strong>truth table</strong> of
values showing the input-to-output mapping that is performed by the
gate.</p>
<div class="figure align-center" id="id5">
<span id="fig-truthtable"></span><img alt="../_images/truthtable1.png" src="../_images/truthtable1.png" />
<p class="caption"><span class="caption-text">Figure 9: Three Types of Logic Gates</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>By combining these gates in various patterns and then applying a set of
input values, we can build circuits that have logical functions.
<a class="reference internal" href="#fig-circuit1"><span class="std std-ref">Figure 10</span></a> shows a circuit consisting of two AND gates, one OR
gate, and a single NOT gate. The output lines from the two AND gates
feed directly into the OR gate, and the resulting output from the OR
gate is given to the NOT gate. If we apply a set of input values to the
four input lines (two for each AND gate), the values are processed and a
result appears at the output of the NOT gate. <a class="reference internal" href="#fig-circuit1"><span class="std std-ref">Figure 10</span></a> also
shows an example with values.</p>
<div class="figure align-center" id="id6">
<span id="fig-circuit1"></span><img alt="../_images/circuit11.png" src="../_images/circuit11.png" />
<p class="caption"><span class="caption-text">Figure 10: Circuit</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>In order to implement a circuit, we will first build a representation
for logic gates. Logic gates are easily organized into a class
inheritance hierarchy as shown in <a class="reference internal" href="#fig-gates"><span class="std std-ref">Figure 11</span></a>. At the top of the
hierarchy, the <code class="docutils literal notranslate"><span class="pre">LogicGate</span></code> class represents the most general
characteristics of logic gates: namely, a label for the gate and an
output line. The next level of subclasses breaks the logic gates into
two families, those that have one input line and those that have two.
Below that, the specific logic functions of each appear.</p>
<div class="figure align-center" id="id7">
<span id="fig-gates"></span><img alt="../_images/gates1.png" src="../_images/gates1.png" />
<p class="caption"><span class="caption-text">Figure 11: An Inheritance Hierarchy for Logic Gates</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>We can now start to implement the classes by starting with the most
general, <code class="docutils literal notranslate"><span class="pre">LogicGate</span></code>. As noted earlier, each gate has a label for
identification and a single output line. In addition, we need methods to
allow a user of a gate to ask the gate for its label.</p>
<p>The other behavior that every logic gate needs is the ability to know
its output value. This will require that the gate perform the
appropriate logic based on the current input. In order to produce
output, the gate needs to know specifically what that logic is. This
means calling a method to perform the logic computation. The complete
class is shown in <a class="reference internal" href="#lst-logicgateclass"><span class="std std-ref">Listing 8</span></a>.</p>
<p id="lst-logicgateclass"><strong>Listing 8</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LogicGate</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">getLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span>

    <span class="k">def</span> <span class="nf">getOutput</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">performGateLogic</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</pre></div>
</div>
<p>At this point, we will not implement the <code class="docutils literal notranslate"><span class="pre">performGateLogic</span></code> function.
The reason for this is that we do not know how each gate will perform
its own logic operation. Those details will be included by each
individual gate that is added to the hierarchy. This is a very powerful
idea in object-oriented programming. We are writing a method that will
use code that does not exist yet. The parameter <code class="docutils literal notranslate"><span class="pre">self</span></code> is a reference
to the actual gate object invoking the method. Any new logic gate that
gets added to the hierarchy will simply need to implement the
<code class="docutils literal notranslate"><span class="pre">performGateLogic</span></code> function and it will be used at the appropriate
time. Once done, the gate can provide its output value. This ability to
extend a hierarchy that currently exists and provide the specific
functions that the hierarchy needs to use the new class is extremely
important for reusing existing code.</p>
<p>We categorized the logic gates based on the number of input lines. The
AND gate has two input lines. The OR gate also has two input lines. NOT
gates have one input line. The <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code> class will be a subclass
of <code class="docutils literal notranslate"><span class="pre">LogicGate</span></code> and will add two input lines. The <code class="docutils literal notranslate"><span class="pre">UnaryGate</span></code> class
will also subclass <code class="docutils literal notranslate"><span class="pre">LogicGate</span></code> but will have only a single input line.
In computer circuit design, these lines are sometimes called “pins” so
we will use that terminology in our implementation.</p>
<p id="lst-binarygateclass"><strong>Listing 9</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BinaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">getPinA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin A input for gate &quot;</span><span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLabel</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">getPinB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin B input for gate &quot;</span><span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLabel</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p id="lst-unarygateclass"><strong>Listing 10</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UnaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">getPin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin input for gate &quot;</span><span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLabel</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p><a class="reference internal" href="#lst-logicgateclass"><span class="std std-ref">Listing 9</span></a> and <a class="reference internal" href="#lst-logicgateclass"><span class="std std-ref">Listing 10</span></a> implement these two
classes. The constructors in both of these classes start with an
explicit call to the constructor of the parent class using the parent’s <code class="docutils literal notranslate"><span class="pre">__init__</span></code>
method. When creating an instance of the <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code> class, we
first want to initialize any data items that are inherited from
<code class="docutils literal notranslate"><span class="pre">LogicGate</span></code>. In this case, that means the label for the gate. The
constructor then goes on to add the two input lines (<code class="docutils literal notranslate"><span class="pre">pinA</span></code> and
<code class="docutils literal notranslate"><span class="pre">pinB</span></code>). This is a very common pattern that you should always use when
building class hierarchies. Child class constructors need to call parent
class constructors and then move on to their own distinguishing data.</p>
<p>Python
also has a function called <code class="docutils literal notranslate"><span class="pre">super</span></code> which can be used in place of explicitly
naming the parent class.  This is a more general mechanism, and is widely
used, especially when a class has more than one parent.  But, this is not something
we are going to discuss in this introduction.  For example in our example above
<code class="docutils literal notranslate"><span class="pre">LogicGate.__init__(self,n)</span></code> could be replaced with <code class="docutils literal notranslate"><span class="pre">super(UnaryGate,self).__init__(n)</span></code>.</p>
<p>The only behavior that the <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code> class adds is the ability to
get the values from the two input lines. Since these values come from
some external place, we will simply ask the user via an input statement
to provide them. The same implementation occurs for the <code class="docutils literal notranslate"><span class="pre">UnaryGate</span></code>
class except that there is only one input line.</p>
<p>Now that we have a general class for gates depending on the number of
input lines, we can build specific gates that have unique behavior. For
example, the <code class="docutils literal notranslate"><span class="pre">AndGate</span></code> class will be a subclass of <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code>
since AND gates have two input lines. As before, the first line of the
constructor calls upon the parent class constructor (<code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code>),
which in turn calls its parent class constructor (<code class="docutils literal notranslate"><span class="pre">LogicGate</span></code>). Note
that the <code class="docutils literal notranslate"><span class="pre">AndGate</span></code> class does not provide any new data since it
inherits two input lines, one output line, and a label.</p>
<p id="lst-andgateclass"><strong>Listing 11</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">AndGate</span><span class="p">(</span><span class="n">BinaryGate</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">BinaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinA</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinB</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">b</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The only thing <code class="docutils literal notranslate"><span class="pre">AndGate</span></code> needs to add is the specific behavior that
performs the boolean operation that was described earlier. This is the
place where we can provide the <code class="docutils literal notranslate"><span class="pre">performGateLogic</span></code> method. For an AND
gate, this method first must get the two input values and then only
return 1 if both input values are 1. The complete class is shown in
<a class="reference internal" href="#lst-andgateclass"><span class="std std-ref">Listing 11</span></a>.</p>
<p>We can show the <code class="docutils literal notranslate"><span class="pre">AndGate</span></code> class in action by creating an instance and
asking it to compute its output. The following session shows an
<code class="docutils literal notranslate"><span class="pre">AndGate</span></code> object, <code class="docutils literal notranslate"><span class="pre">g1</span></code>, that has an internal label <code class="docutils literal notranslate"><span class="pre">&quot;G1&quot;</span></code>. When we
invoke the <code class="docutils literal notranslate"><span class="pre">getOutput</span></code> method, the object must first call its
<code class="docutils literal notranslate"><span class="pre">performGateLogic</span></code> method which in turn queries the two input lines.
Once the values are provided, the correct output is shown.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin A input for gate G1--&gt;1</span>
<span class="go">Enter Pin B input for gate G1--&gt;0</span>
<span class="go">0</span>
</pre></div>
</div>
<p>The same development can be done for OR gates and NOT gates. The
<code class="docutils literal notranslate"><span class="pre">OrGate</span></code> class will also be a subclass of <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code> and the
<code class="docutils literal notranslate"><span class="pre">NotGate</span></code> class will extend the <code class="docutils literal notranslate"><span class="pre">UnaryGate</span></code> class. Both of these
classes will need to provide their own <code class="docutils literal notranslate"><span class="pre">performGateLogic</span></code> functions,
as this is their specific behavior.</p>
<p>We can use a single gate by first constructing an instance of one of the
gate classes and then asking the gate for its output (which will in turn
need inputs to be provided). For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">OrGate</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin A input for gate G2--&gt;1</span>
<span class="go">Enter Pin B input for gate G2--&gt;1</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin A input for gate G2--&gt;0</span>
<span class="go">Enter Pin B input for gate G2--&gt;0</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">NotGate</span><span class="p">(</span><span class="s2">&quot;G3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin input for gate G3--&gt;0</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Now that we have the basic gates working, we can turn our attention to
building circuits. In order to create a circuit, we need to connect
gates together, the output of one flowing into the input of another. To
do this, we will implement a new class called <code class="docutils literal notranslate"><span class="pre">Connector</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Connector</span></code> class will not reside in the gate hierarchy. It will,
however, use the gate hierarchy in that each connector will have two
gates, one on either end (see <a class="reference internal" href="#fig-connector"><span class="std std-ref">Figure 12</span></a>). This relationship is
very important in object-oriented programming. It is called the <strong>HAS-A
Relationship</strong>. Recall earlier that we used the phrase “IS-A
Relationship” to say that a child class is related to a parent class,
for example <code class="docutils literal notranslate"><span class="pre">UnaryGate</span></code> IS-A <code class="docutils literal notranslate"><span class="pre">LogicGate</span></code>.</p>
<div class="figure align-center" id="id8">
<span id="fig-connector"></span><img alt="../_images/connector1.png" src="../_images/connector1.png" />
<p class="caption"><span class="caption-text">Figure 12: A Connector Connects the Output of One Gate to the Input of Another</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Now, with the <code class="docutils literal notranslate"><span class="pre">Connector</span></code> class, we say that a <code class="docutils literal notranslate"><span class="pre">Connector</span></code> HAS-A
<code class="docutils literal notranslate"><span class="pre">LogicGate</span></code> meaning that connectors will have instances of the
<code class="docutils literal notranslate"><span class="pre">LogicGate</span></code> class within them but are not part of the hierarchy. When
designing classes, it is very important to distinguish between those
that have the IS-A relationship (which requires inheritance) and those
that have HAS-A relationships (with no inheritance).</p>
<p><a class="reference internal" href="#lst-connectorclass"><span class="std std-ref">Listing 12</span></a> shows the <code class="docutils literal notranslate"><span class="pre">Connector</span></code> class. The two gate
instances within each connector object will be referred to as the
<code class="docutils literal notranslate"><span class="pre">fromgate</span></code> and the <code class="docutils literal notranslate"><span class="pre">togate</span></code>, recognizing that data values will
“flow” from the output of one gate into an input line of the next. The
call to <code class="docutils literal notranslate"><span class="pre">setNextPin</span></code> is very important for making connections (see
<a class="reference internal" href="#lst-setpin"><span class="std std-ref">Listing 13</span></a>). We need to add this method to our gate classes so
that each <code class="docutils literal notranslate"><span class="pre">togate</span></code> can choose the proper input line for the
connection.</p>
<p id="lst-connectorclass"><strong>Listing 12</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fgate</span><span class="p">,</span> <span class="n">tgate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span> <span class="o">=</span> <span class="n">fgate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">togate</span> <span class="o">=</span> <span class="n">tgate</span>

        <span class="n">tgate</span><span class="o">.</span><span class="n">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span>

    <span class="k">def</span> <span class="nf">getTo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">togate</span>
</pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">BinaryGate</span></code> class, for gates with two possible input lines,
the connector must be connected to only one line. If both of them are
available, we will choose <code class="docutils literal notranslate"><span class="pre">pinA</span></code> by default. If <code class="docutils literal notranslate"><span class="pre">pinA</span></code> is already
connected, then we will choose <code class="docutils literal notranslate"><span class="pre">pinB</span></code>. It is not possible to connect
to a gate with no available input lines.</p>
<p id="lst-setpin"><strong>Listing 13</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="n">source</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="n">source</span>
        <span class="k">else</span><span class="p">:</span>
           <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Error: NO EMPTY PINS&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now it is possible to get input from two places: externally, as before,
and from the output of a gate that is connected to that input line. This
requires a change to the <code class="docutils literal notranslate"><span class="pre">getPinA</span></code> and <code class="docutils literal notranslate"><span class="pre">getPinB</span></code> methods (see
<a class="reference internal" href="#lst-newgetpin"><span class="std std-ref">Listing 14</span></a>). If the input line is not connected to anything
(<code class="docutils literal notranslate"><span class="pre">None</span></code>), then ask the user externally as before. However, if there is
a connection, the connection is accessed and <code class="docutils literal notranslate"><span class="pre">fromgate</span></code>’s output value
is retrieved. This in turn causes that gate to process its logic. This
continues until all input is available and the final output value
becomes the required input for the gate in question. In a sense, the
circuit works backwards to find the input necessary to finally produce
output.</p>
<p id="lst-newgetpin"><strong>Listing 14</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getPinA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin A input for gate &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
</pre></div>
</div>
<p>The following fragment constructs the circuit shown earlier in the
section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">OrGate</span><span class="p">(</span><span class="s2">&quot;G3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g4</span> <span class="o">=</span> <span class="n">NotGate</span><span class="p">(</span><span class="s2">&quot;G4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c3</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g3</span><span class="p">,</span><span class="n">g4</span><span class="p">)</span>
</pre></div>
</div>
<p>The outputs from the two AND gates (<code class="docutils literal notranslate"><span class="pre">g1</span></code> and <code class="docutils literal notranslate"><span class="pre">g2</span></code>) are connected to
the OR gate (<code class="docutils literal notranslate"><span class="pre">g3</span></code>) and that output is connected to the NOT gate
(<code class="docutils literal notranslate"><span class="pre">g4</span></code>). The output from the NOT gate is the output of the entire
circuit. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g4</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Pin A input for gate G1--&gt;0</span>
<span class="go">Pin B input for gate G1--&gt;1</span>
<span class="go">Pin A input for gate G2--&gt;1</span>
<span class="go">Pin B input for gate G2--&gt;1</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Try it yourself using ActiveCode 4.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 881)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 885</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">activecode</span><span class="p">::</span> <span class="n">complete_cuircuit</span>
    <span class="p">:</span><span class="n">caption</span><span class="p">:</span> <span class="n">The</span> <span class="n">Complete</span> <span class="n">Circuit</span> <span class="n">Program</span><span class="o">.</span>

    <span class="k">class</span> <span class="nc">LogicGate</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">n</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">getName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

        <span class="k">def</span> <span class="nf">getOutput</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">performGateLogic</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>


    <span class="k">class</span> <span class="nc">BinaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">getPinA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin A input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">getPinB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin B input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="n">source</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="n">source</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot Connect: NO EMPTY PINS on this gate&quot;</span><span class="p">)</span>


    <span class="k">class</span> <span class="nc">AndGate</span><span class="p">(</span><span class="n">BinaryGate</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">BinaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

            <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinA</span><span class="p">()</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinB</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">b</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">OrGate</span><span class="p">(</span><span class="n">BinaryGate</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">BinaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

            <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinA</span><span class="p">()</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinB</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">a</span> <span class="o">==</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">b</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">UnaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">getPin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="n">source</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot Connect: NO EMPTY PINS on this gate&quot;</span><span class="p">)</span>


    <span class="k">class</span> <span class="nc">NotGate</span><span class="p">(</span><span class="n">UnaryGate</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">UnaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPin</span><span class="p">():</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>


    <span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fgate</span><span class="p">,</span> <span class="n">tgate</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span> <span class="o">=</span> <span class="n">fgate</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">togate</span> <span class="o">=</span> <span class="n">tgate</span>

            <span class="n">tgate</span><span class="o">.</span><span class="n">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">getFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span>

        <span class="k">def</span> <span class="nf">getTo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">togate</span>


    <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
       <span class="n">g1</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G1&quot;</span><span class="p">)</span>
       <span class="n">g2</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">)</span>
       <span class="n">g3</span> <span class="o">=</span> <span class="n">OrGate</span><span class="p">(</span><span class="s2">&quot;G3&quot;</span><span class="p">)</span>
       <span class="n">g4</span> <span class="o">=</span> <span class="n">NotGate</span><span class="p">(</span><span class="s2">&quot;G4&quot;</span><span class="p">)</span>
       <span class="n">c1</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
       <span class="n">c2</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
       <span class="n">c3</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g3</span><span class="p">,</span><span class="n">g4</span><span class="p">)</span>
       <span class="nb">print</span><span class="p">(</span><span class="n">g4</span><span class="o">.</span><span class="n">getOutput</span><span class="p">())</span>

    <span class="n">main</span><span class="p">()</span>


</pre></div>
</div>
</div>
<div class="admonition-self-check admonition">
<p class="admonition-title">Self Check</p>
<p>Create a two new gate classes,  one called NorGate the other called NandGate.  NandGates work like AndGates that have a Not attached to the output.  NorGates work lake OrGates that have a Not attached to the output.</p>
<p>Create a series of gates that prove the following equality NOT (( A and B) or (C and D)) is that same as NOT( A and B ) and NOT (C and D).  Make sure to use some of your new gates in the simulation.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 1023)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 1027</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">actex</span><span class="p">::</span> <span class="n">self_check_5</span>

   <span class="k">class</span> <span class="nc">LogicGate</span><span class="p">:</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">n</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>

       <span class="k">def</span> <span class="nf">getName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

       <span class="k">def</span> <span class="nf">getOutput</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">performGateLogic</span><span class="p">()</span>
           <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>


   <span class="k">class</span> <span class="nc">BinaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

           <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="kc">None</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="kc">None</span>

       <span class="k">def</span> <span class="nf">getPinA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
               <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin A input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

       <span class="k">def</span> <span class="nf">getPinB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
               <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin B input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

       <span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="n">source</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                   <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="n">source</span>
               <span class="k">else</span><span class="p">:</span>
                   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot Connect: NO EMPTY PINS on this gate&quot;</span><span class="p">)</span>


   <span class="k">class</span> <span class="nc">AndGate</span><span class="p">(</span><span class="n">BinaryGate</span><span class="p">):</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="n">BinaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

           <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinA</span><span class="p">()</span>
           <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinB</span><span class="p">()</span>
           <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">b</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
               <span class="k">return</span> <span class="mi">1</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="mi">0</span>

   <span class="k">class</span> <span class="nc">OrGate</span><span class="p">(</span><span class="n">BinaryGate</span><span class="p">):</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="n">BinaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

           <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinA</span><span class="p">()</span>
           <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPinB</span><span class="p">()</span>
           <span class="k">if</span> <span class="n">a</span> <span class="o">==</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">b</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
               <span class="k">return</span> <span class="mi">1</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="mi">0</span>

   <span class="k">class</span> <span class="nc">UnaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="n">LogicGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

           <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="kc">None</span>

       <span class="k">def</span> <span class="nf">getPin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
               <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter Pin input for gate &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;--&gt;&quot;</span><span class="p">))</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>

       <span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="n">source</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot Connect: NO EMPTY PINS on this gate&quot;</span><span class="p">)</span>


   <span class="k">class</span> <span class="nc">NotGate</span><span class="p">(</span><span class="n">UnaryGate</span><span class="p">):</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
           <span class="n">UnaryGate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">performGateLogic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPin</span><span class="p">():</span>
               <span class="k">return</span> <span class="mi">0</span>
           <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="mi">1</span>


   <span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>

       <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fgate</span><span class="p">,</span> <span class="n">tgate</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span> <span class="o">=</span> <span class="n">fgate</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">togate</span> <span class="o">=</span> <span class="n">tgate</span>

           <span class="n">tgate</span><span class="o">.</span><span class="n">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">getFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span>

       <span class="k">def</span> <span class="nf">getTo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">togate</span>



   <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
      <span class="n">g1</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s2">&quot;G1&quot;</span><span class="p">)</span>

      <span class="nb">print</span><span class="p">(</span><span class="n">g1</span><span class="o">.</span><span class="n">getOutput</span><span class="p">())</span>

   <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<span class="docutils literal">/Users/hitoshi/git/github/pythonds/2019/livro/_sources/Introduction/ObjectOrientedProgramminginPythonDefiningClasses.rst</span>, line 1153)</p>
<p>Duplicate ID – see Introducao/ObjectOrientedProgramminginPythonDefiningClasses, line 1157</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">video</span><span class="p">::</span> <span class="n">logicgates</span>
   <span class="p">:</span><span class="n">controls</span><span class="p">:</span>
   <span class="p">:</span><span class="n">thumb</span><span class="p">:</span> <span class="o">../</span><span class="n">_static</span><span class="o">/</span><span class="n">videothumb</span><span class="o">.</span><span class="n">png</span>

   <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">media</span><span class="o">.</span><span class="n">interactivepython</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pythondsVideos</span><span class="o">/</span><span class="n">logicgates</span><span class="o">.</span><span class="n">mov</span>
   <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">media</span><span class="o">.</span><span class="n">interactivepython</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pythondsVideos</span><span class="o">/</span><span class="n">logicgates</span><span class="o">.</span><span class="n">webm</span>

</pre></div>
</div>
</div>
</div>
</div>


  
      

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 DCC IME USP.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 3.4.5.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>